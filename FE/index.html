<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- <link rel="icon" type="image/svg+xml" href="/NIMF_N.svg" /> -->
    <!-- <link rel="icon" type="image/svg+xml" href="/NIMF_nymph.svg" /> -->
    <link rel="icon" type="image/svg+xml" href="/NIMF_nymph_round.svg" />
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;800&display=swap" rel="stylesheet" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NIMF</title>
  </head>
  <body>
    <div id="root"></div>

    <!-- 아래로 비번 script -->
    <script type="module">
      const KEY = '__gate_session';
      const PW  = 'rlaslavm1234'; // 임시 비번 (원하시는 값으로 변경)

      // 세션 토큰 보유 여부
      const hasToken = sessionStorage.getItem(KEY) === PW;

      if (hasToken) {
        // 통과 → 앱 로드
        import('/src/main.jsx');
      } else {
        // 비번 폼 출력 document.write 대신 DOM API 사용
        document.body.innerHTML = `
          <div style="display:grid;place-items:center;height:100vh;background:#111;color:#eee;font-family:system-ui">
            <form id="gate-form">
              <input name="pass" type="password" inputmode="numeric" autocomplete="off"
                    placeholder="숫자 비번"
                    style="padding:12px;border-radius:8px;border:1px solid #444;background:#222;color:#eee" />
              <button type="submit"
                      style="padding:12px 16px;border:0;border-radius:8px;background:#4f46e5;color:#fff;margin-left:8px">
                Enter
              </button>
            </form>
          </div>
        `;

        document.getElementById('gate-form').addEventListener('submit', (e) => {
          e.preventDefault();
          const v = e.target.pass.value.trim();
          if (v === PW) {
            sessionStorage.setItem(KEY, PW);
            document.body.innerHTML = '<div id="root"></div>';
            import('/src/main.jsx');
          } else {
            alert('비번이 틀렸습니다.');
          }
        });
      }
    </script>

    <!-- <script type="module" src="/src/main.jsx"></script> -->
  </body>
</html>
